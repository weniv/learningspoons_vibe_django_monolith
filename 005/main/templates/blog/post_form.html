<!-- main/templates/blog/post_form.html -->
{% extends 'main/base.html' %}

{% block title %}
{% if form.instance.pk %}게시글 수정{% else %}게시글 작성{% endif %} - Django 블로그
{% endblock %}

{% block extra_css %}
<style>
    .form-group {
        margin-bottom: 1.5rem;
    }
    .form-group label {
        display: block;
        margin-bottom: 0.5rem;
        font-weight: bold;
    }
    .form-control {
        width: 100%;
        padding: 0.5rem;
        border: 1px solid #ddd;
        border-radius: 4px;
        font-size: 1rem;
    }
    .form-control:focus {
        outline: none;
        border-color: #3498db;
    }
    .form-check {
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }
</style>
{% endblock %}

{% block content %}
<h1>{% if form.instance.pk %}게시글 수정{% else %}게시글 작성{% endif %}</h1>

<form method="post">
    {% csrf_token %}

    <div class="form-group">
        <label for="{{ form.title.id_for_label }}">{{ form.title.label }}</label>
        {{ form.title }}
        {% if form.title.errors %}
        <div class="alert alert-error">{{ form.title.errors }}</div>
        {% endif %}
    </div>

    <div class="form-group">
        <label for="{{ form.content.id_for_label }}">{{ form.content.label }}</label>
        {{ form.content }}
        <small style="color: #7f8c8d;">마크다운 문법을 사용할 수 있습니다.</small>
        {% if form.content.errors %}
        <div class="alert alert-error">{{ form.content.errors }}</div>
        {% endif %}
    </div>

    <div class="form-group">
        <label>{{ form.tags.label }}</label>
        {{ form.tags }}
        {% if form.tags.errors %}
        <div class="alert alert-error">{{ form.tags.errors }}</div>
        {% endif %}
    </div>

    <div class="form-group">
        <div class="form-check">
            {{ form.is_published }}
            <label for="{{ form.is_published.id_for_label }}">{{ form.is_published.label }}</label>
        </div>
        {% if form.is_published.errors %}
        <div class="alert alert-error">{{ form.is_published.errors }}</div>
        {% endif %}
    </div>

    <div>
        <button type="submit" class="btn btn-primary">
            {% if form.instance.pk %}수정 완료{% else %}작성 완료{% endif %}
        </button>
        <a href="{% if form.instance.pk %}{% url 'main:post_detail' form.instance.pk %}{% else %}{% url 'main:post_list' %}{% endif %}" class="btn btn-secondary">취소</a>
    </div>
</form>
{% endblock %}